"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[45],{7045:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var r=t(5048),a=t(3329);var o=function(n){var e=n.title,t=n.children;return(0,a.jsxs)("div",{children:[e&&(0,a.jsx)("h2",{children:e}),t]})},i=t(3649),c=t(5861),s=t(885),d=t(7757),u=t.n(d),l=t(2791),h=t(5264),p=t(8748),f=t(6289);function m(){var n=(0,i.wY)().data,e=(0,i.Tn)(),t=(0,s.Z)(e,2),r=t[0],o=t[1].isLoading,d=(0,l.useState)(""),m=(0,s.Z)(d,2),x=m[0],b=m[1],g=(0,l.useState)(""),v=(0,s.Z)(g,2),y=v[0],j=v[1],Z=function(){var e=(0,c.Z)(u().mark((function e(t){var a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,null===n||void 0===n||!n.find((function(n){return n.name.toLowerCase()===x.toLowerCase()}))){e.next=7;break}return h.Notify.failure("".concat(x," is already in contacts")),e.abrupt("return");case 7:if(null===n||void 0===n||!n.find((function(n){return n.number===y}))){e.next=12;break}return h.Notify.failure("this number: ".concat(y," is in, you dont want to add one more time.")),e.abrupt("return");case 12:return a={name:x,number:y},e.next=15,r(a);case 15:(null===(o=e.sent)||void 0===o?void 0:o.error)&&h.Notify.failure("Error ".concat(o.error.status," - wrong data"),{timeout:5e3,fontSize:"18px"}),h.Notify.success("".concat(x," has added to contacts successfully")),b(""),j("");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),h.Notify.failure(" Something goes wrong: ".concat(e.t0));case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(n){return e.apply(this,arguments)}}();return(0,a.jsxs)("form",{onSubmit:Z,children:[(0,a.jsxs)(f.__,{htmlFor:"nameInputId",children:["Name",(0,a.jsx)(f.II,{value:x,onChange:function(n){return b(n.target.value)},type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:"nameInputId"})]}),(0,a.jsxs)(f.__,{htmlFor:"numberInputId",children:["Number",(0,a.jsx)(f.II,{value:y,onChange:function(n){return j(n.target.value)},id:"numberInputId",placeholder:"Number",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,a.jsx)(f.k4,{type:"submit",disabled:o,children:o?(0,a.jsx)(p.iT,{ariaLabel:"loading-indicator",height:16,width:48,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Add contact"})]})}var x,b,g,v,y,j,Z,w,k=t(4164),C=t(168),N=t(6031),I=N.ZP.div(x||(x=(0,C.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n"]))),P=N.ZP.div(b||(b=(0,C.Z)(["\n  padding: 40px;\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n  background-color: #a7a55b;\n"]))),S=N.ZP.button(g||(g=(0,C.Z)(["\n  display: block;\n  margin: 24px auto 0;\n  padding: 4px 8px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-color: #000000a6;\n  font-size: 14px;\n  color: #fff;\n  :hover,\n  :focus {\n    outline: 2px solid #fff;\n  }\n"]))),z=document.querySelector("#modal-root"),L=function(n){var e=n.children,t=n.onClose;return(0,k.createPortal)((0,a.jsx)(I,{children:(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{children:e}),(0,a.jsx)(S,{type:"button",onClick:t,children:"Cancel"})]})}),z)},A=N.ZP.label(v||(v=(0,C.Z)(["\n  color: #f8e3e0;\n"]))),F=N.ZP.input(y||(y=(0,C.Z)(["\n  margin-left: 24px;\n  margin-right: auto;\n  margin-bottom: 24px;\n  padding: 3px;\n  border: 2px solid transparent;\n  border-radius: 12px;\n  caret-color: green;\n  :hover,\n  :focus {\n    border: 2px solid #91b291;\n    outline: 1px solid green;\n  }\n"]))),W=N.ZP.button(j||(j=(0,C.Z)(["\n  margin-left: auto;\n  padding: 4px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-color: #000000a6;\n  font-size: 14px;\n  color: #fff;\n  :hover,\n  :focus {\n    outline: 2px solid #fff;\n  }\n"]))),q=N.ZP.li(Z||(Z=(0,C.Z)(["\n  display: flex;\n  margin: 12px;\n  border-bottom: 1px dashed #000000a6;\n"]))),T=N.ZP.form(w||(w=(0,C.Z)(["\n  display: flex;\n  flex-direction: column;\n"])));var M,$,_,D=function(n){var e=n.name,t=n.number,r=n.id,o=(0,i.Nt)(),d=(0,s.Z)(o,2),f=d[0],m=d[1].isLoading,x=(0,i.wv)(),b=(0,s.Z)(x,2),g=b[0],v=b[1],y=(0,l.useState)(!1),j=(0,s.Z)(y,2),Z=j[0],w=j[1],k=(0,l.useState)(e),C=(0,s.Z)(k,2),N=C[0],I=C[1],P=(0,l.useState)(t),S=(0,s.Z)(P,2),z=S[0],M=S[1],$=(0,i.wY)().data,_=function(){return w(!1)},D=function(){var n=(0,c.Z)(u().mark((function n(t){var a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),n.prev=1,null===$||void 0===$||!$.find((function(n){return n.name.toLowerCase()===N.toLowerCase()}))){n.next=5;break}return h.Notify.failure("".concat(N," is already in contacts")),n.abrupt("return");case 5:return a={name:N,number:z},n.next=8,g({contact:a,id:r});case 8:v.isSuccess||(h.Notify.success("contact ".concat(e," has changed successfully")),_()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(v.error);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}();return(0,a.jsxs)(q,{children:[e,": ",t,(0,a.jsx)(W,{type:"button",onClick:function(){return w(!0)},children:"Update"}),(0,a.jsx)(W,{type:"button",disabled:m,onClick:function(){return f(r)},children:m?(0,a.jsx)(p.iT,{ariaLabel:"loading-indicator",height:10,width:16,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Delete"}),Z&&(0,a.jsx)(L,{onClose:_,children:(0,a.jsxs)(T,{onSubmit:D,children:[(0,a.jsxs)(A,{htmlFor:"name",children:["Name",(0,a.jsx)(F,{value:N,onChange:function(n){return I(n.target.value)},type:"text",name:"name",placeholder:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:"name"})]}),(0,a.jsxs)(A,{htmlFor:"number",children:["Number",(0,a.jsx)(F,{value:z,onChange:function(n){return M(n.target.value)},id:"number",placeholder:t,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,a.jsx)(W,{type:"submit",disabled:m,children:v.isLoading?(0,a.jsx)(p.iT,{ariaLabel:"loading-indicator",height:16,width:48,strokeWidth:10,strokeWidthSecondary:10,color:"orange",secondaryColor:"yellow"}):"Change contact"})]})})]})},Y=function(n){var e=n.data,t=(0,l.useMemo)((function(){var n=e.slice();return n.sort((function(n,e){return n.name.localeCompare(e.name)})),n}),[e]);return(0,a.jsx)("ul",{children:t.map((function(n){return(0,a.jsx)(D,{name:n.name,number:n.number,id:n.id},n.id)}))})},B=N.ZP.label(M||(M=(0,C.Z)(["\n  color: #f8e3e0;\n  margin-right: 24px;\n"]))),J=N.ZP.input($||($=(0,C.Z)(["\n  margin-right: 24px;\n  margin-bottom: 24px;\n"]))),E=t(6895),U=function(){var n=(0,r.I0)(),e=(0,r.v9)(E.$N);return(0,a.jsx)("div",{children:(0,a.jsxs)(B,{htmlFor:"filterId",children:[(0,a.jsx)(J,{name:"filter",value:e,onChange:function(e){n((0,E.M6)(e.currentTarget.value))},id:"filterId",type:"text"}),"Find contacts by name"]})})},G=N.ZP.div(_||(_=(0,C.Z)(["\n  padding: 36px;\n  background-color: #6c696c7a;\n"]))),H=function(){var n=(0,i.wY)().data,e=(0,r.v9)(E.$N);return(0,a.jsxs)(G,{children:[(0,a.jsx)(o,{title:"Phonebook",children:(0,a.jsx)(m,{})}),(null===n||void 0===n?void 0:n.length)>0&&(0,a.jsxs)(o,{title:"Contacts",children:[(0,a.jsx)(U,{}),n.length>0?(0,a.jsx)(Y,{data:function(){if(""===e)return n;var t=e.toLowerCase().trim();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}()}):(0,a.jsx)("p",{children:"No any contact"})]})]})}}}]);
//# sourceMappingURL=45.e03b542f.chunk.js.map